<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Radical</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #1e1e1e;
            color: #f0f0f0;
        }
        h1 {
            color: #ff4500;
            text-align: center;
        }
        label, input, select, button {
            display: block;
            margin-bottom: 10px;
        }
        input, select, button {
            padding: 5px;
            width: 100%;
            background-color: #333;
            color: #f0f0f0;
            border: 1px solid #555;
        }
        button {
            background-color: #ff4500;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #e03e00;
        }
        #resultado {
            margin-top: 20px;
            border: 1px solid #555;
            padding: 10px;
            display: none;
            background-color: #2e2e2e;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #555;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #333;
        }
        img {
            display: block;
            margin: 0 auto 20px;
            width: 150px;
        }
    </style>
</head>
<body>
    <h1>CALCULADORA RADICAL</h1>
    <img src="shadow-about.png" alt="Shadow the Hedgehog">
    <form id="calculadora">
        <label for="valorInicial">Valor Inicial (R$):</label>
        <input type="number" id="valorInicial" required min="0" step="0.01">

        <label for="depositoMensal">Valor do depósito mensal (R$):</label>
        <input type="number" id="depositoMensal" min="0" step="0.01" value="0">

        <label for="idade">Sua idade atual:</label>
        <input type="number" id="idade" required min="0" step="1">

        <label for="mesInicio">Mês de Início:</label>
        <select id="mesInicio">
            <option value="0">Janeiro</option>
            <option value="1">Fevereiro</option>
            <option value="2">Março</option>
            <option value="3">Abril</option>
            <option value="4">Maio</option>
            <option value="5">Junho</option>
            <option value="6">Julho</option>
            <option value="7">Agosto</option>
            <option value="8">Setembro</option>
            <option value="9">Outubro</option>
            <option value="10">Novembro</option>
            <option value="11">Dezembro</option>
        </select>

        <label for="anoInicio">Ano de Início:</label>
        <input type="number" id="anoInicio" required min="2000" step="1">

        <label for="mesFim">Mês de Fim:</label>
        <select id="mesFim">
            <option value="0">Janeiro</option>
            <option value="1">Fevereiro</option>
            <option value="2">Março</option>
            <option value="3">Abril</option>
            <option value="4">Maio</option>
            <option value="5">Junho</option>
            <option value="6">Julho</option>
            <option value="7">Agosto</option>
            <option value="8">Setembro</option>
            <option value="9">Outubro</option>
            <option value="10">Novembro</option>
            <option value="11">Dezembro</option>
        </select>

        <label for="anoFim">Ano de Fim:</label>
        <input type="number" id="anoFim" required min="2000" step="1">

        <button type="submit">Calcular</button>
    </form>
    <div id="resultado"></div>

    <script>
        function formatarNumero(numero) {
            return numero.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        }

        function calcularRendimento(valorInicial, depositoMensal, idade, mesInicio, anoInicio, mesFim, anoFim) {
            const taxaMensal = 0.008; // 0,8% ao mês
            let saldo = valorInicial;
            let resultados = [];

            let dataAtual = new Date(anoInicio, mesInicio);
            const dataFim = new Date(anoFim, mesFim);

            while (dataAtual <= dataFim) {
                saldo += depositoMensal;
                let rendimentoMensal = saldo * taxaMensal;
                saldo += rendimentoMensal;

                let idadeAtual = idade + (dataAtual.getFullYear() - anoInicio) + (dataAtual.getMonth() - mesInicio) / 12;

                resultados.push({
                    mes: dataAtual.toLocaleString('pt-BR', { month: 'long' }),
                    ano: dataAtual.getFullYear(),
                    valorOriginal: valorInicial,
                    depositoMensal: depositoMensal,
                    rendimentoMensal: rendimentoMensal,
                    saldoFinal: saldo,
                    idade: Math.floor(idadeAtual)
                });

                dataAtual.setMonth(dataAtual.getMonth() + 1);
            }

            return resultados;
        }

        document.getElementById('calculadora').addEventListener('submit', function(e) {
            e.preventDefault();
            const valorInicial = parseFloat(document.getElementById('valorInicial').value);
            const depositoMensal = parseFloat(document.getElementById('depositoMensal').value);
            const idade = parseInt(document.getElementById('idade').value);
            const mesInicio = parseInt(document.getElementById('mesInicio').value);
            const anoInicio = parseInt(document.getElementById('anoInicio').value);
            const mesFim = parseInt(document.getElementById('mesFim').value);
            const anoFim = parseInt(document.getElementById('anoFim').value);

            const resultados = calcularRendimento(valorInicial, depositoMensal, idade, mesInicio, anoInicio, mesFim, anoFim);
            
            let html = '<h2>Resultados:</h2>';
            html += '<table border="1" cellpadding="5">';
            html += '<tr><th>Mês</th><th>Ano</th><th>Idade</th><th>Valor Original</th><th>Depósito Mensal</th><th>Rendimento Mensal</th><th>Valor Acumulado</th></tr>';
            
            resultados.forEach(res => {
                html += `<tr>
                    <td>${res.mes}</td>
                    <td>${res.ano}</td>
                    <td>${res.idade}</td>
                    <td>R$ ${formatarNumero(res.valorOriginal)}</td>
                    <td>R$ ${formatarNumero(res.depositoMensal)}</td>
                    <td>R$ ${formatarNumero(res.rendimentoMensal)}</td>
                    <td>R$ ${formatarNumero(res.saldoFinal)}</td>
                </tr>`;
            });
            
            html += '</table>';
            
            document.getElementById('resultado').innerHTML = html;
            document.getElementById('resultado').style.display = 'block';
        });
    </script>
</body>
</html>